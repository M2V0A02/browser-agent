commit 805e114a475eae6f1145c23e6ea83801ca4abecf
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Thu Dec 11 10:03:36 2025 +0500

    запись экрана

commit 8574011615ffde6ddee1dc778a8e04cdb6f222f6
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Thu Dec 11 09:42:01 2025 +0500

    вынес env

commit 7ee12d8a8dbc88e31f6c22452f9f35f0c94abe34
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Wed Dec 10 19:28:14 2025 +0500

    Добавил makefile

commit 52d702dea91b8a6539a9a2fb86fb13055a3ce8e2
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Wed Dec 10 19:14:37 2025 +0500

    Улучшил click

commit 6411304ee853fb38877deeba007bb4ff62ffd96a
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Wed Dec 10 13:23:28 2025 +0500

    Вывод пользователю шагов

commit 7a7588afc211096f6ba7d62bc33d27578a45a31b
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Tue Dec 9 20:02:36 2025 +0500

    Добавил evaluator

commit 8f6be0b5ba8e4898c3c944112f92bdefe8b67d7b
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Tue Dec 9 17:52:15 2025 +0500

    Добавил уточнения для оркестрации

commit 4588338297604ac58621ae6ddc648c7c012aa0e3
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Tue Dec 9 14:50:50 2025 +0500

    Переписал архитектуру самбодулей

commit 6f82d3564fe934fbd3a2f571a0ccdff3e3c668d1
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Tue Dec 9 13:26:24 2025 +0500

    Изменил системные промпты

commit 4b180339b3c6746ebfb508be471d14b8ef7af334
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Tue Dec 9 13:17:49 2025 +0500

    рефакторинг browser_search

commit 2f70aed4c954bf9c9eddd4975bbe6b21083143e6
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Tue Dec 9 13:10:06 2025 +0500

    Добавил константы

commit 33bab31432e8536adb5acd8cda4db77a6399c7a3
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Tue Dec 9 12:58:31 2025 +0500

    Перенес на subagent архитектуру

commit 307031296cf7f121245cdb3dd474a4534cd7379f
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Mon Dec 8 17:38:39 2025 +0500

    убрал не нужный инструмент

commit 93a0f727de5276b28fee2c3116f713cdaa3095ea
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Mon Dec 8 17:03:02 2025 +0500

    batch click и fill

commit 9bd4756eace31c98d968eb67cba2037ebc018945
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Mon Dec 8 16:47:50 2025 +0500

    Добавил search

commit 2963c0f005517b50e0e4d6d35c0ac0390a6114a6
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Mon Dec 8 13:15:13 2025 +0500

    Добавил получение элементов

commit bf4d387a07abe228cb41414e9eb879db5869b549
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Mon Dec 8 12:49:40 2025 +0500

    Включил поддержку thinking

commit a3b9bd513003e65a5def0917741e1d41309ede94
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Mon Dec 8 12:21:07 2025 +0500

    Убрал streaming

commit ba5a1f503f803cab3cebf3094d2f6367d7d49f39
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Mon Dec 8 11:07:47 2025 +0500

    Обновил системный промпт

commit 3684f94acf2df7a7c2717d740de05ba5317593eb
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 23:37:45 2025 +0500

    Добавил observe

commit 3eef846c78f9fd98f7968cbf9437238716c7d966
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 23:26:55 2025 +0500

    Добавил больше логов

commit 0cc7c759745696cdf40f4b70f457241bea1ec37e
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 23:01:03 2025 +0500

    Добавил thinking в сообщения

commit d2e7764e3e0c47cbddd8eceb55247b3636e770e2
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 22:51:55 2025 +0500

    Уменьшил размер ui_sammury

commit 91fc9fbcac888387a7da757f9907e5b478138095
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 22:40:44 2025 +0500

    Изменил на получение html текста

commit cc653274eb715af72c62187dc91634e33ecd5a3a
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 22:29:04 2025 +0500

    Добавил инструмент ожидания и задать вопрос

commit d6fec2a89b7ca1066e1275026799f45e5abc59aa
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 22:22:11 2025 +0500

    Более детальное описание инструментов

commit 6010f4529c3674b7976184e37bbd2d3f45c035d0
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 19:17:33 2025 +0500

    Добавил промпт и сделал логирование

commit 1ea336bfbe4a40c74a28ac6840ff24eee1d93a2d
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 19:06:22 2025 +0500

    Добавил промпт

commit 1f94d3adee5466504b71e64bce1a28452b5972b3
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 18:43:07 2025 +0500

    Добавил reasoning блок

commit ff9cce2f8968bb6f21e76ba7a83f2795f96a7442
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 18:24:08 2025 +0500

    Обновил адаптер для браузера и дописал тесты

commit e3e6d5334bced621677d11b4a847bae0fc6981c4
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 17:37:28 2025 +0500

    Переименовал файлы

commit 72a1335f1947c4d2f073d3d88b4546e39a072e61
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 13:57:43 2025 +0500

    Перенесён usecase в internal/usecase
    
    usecase - отдельный слой Clean Architecture, не часть application

commit abf484d87c443eb578778b49be1f2d5f0678b86c
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 13:56:33 2025 +0500

    Вынесен usecase в отдельную папку с интерфейсом
    
    - application/port/input/task_executor.go - интерфейс TaskExecutor
    - application/usecase/execute_task/usecase.go - реализация
    - DI контейнер теперь зависит от интерфейса input.TaskExecutor

commit 1704f7f7d44d3e96613e66b38fbc449911c86bb0
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 13:53:15 2025 +0500

    Удалён старый код агента, оставлена только Clean Architecture
    
    Удалено:
    - cmd/agent (старая точка входа)
    - internal/agents/ (старый ReAct агент и tools)
    - internal/domain/ports, adapter, services (старые интерфейсы)
    - internal/infrastructure/browser/rodwrapper (заменён на rod/)
    - internal/infrastructure/logger/logger.go (заменён на adapter.go)
    
    cmd/agent-v2 переименован в cmd/agent

commit 055c1c78c6a4df5ae4beea827134e75888a3c109
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 13:50:42 2025 +0500

    Добавлен DI контейнер и финальная интеграция Clean Architecture
    
    - di/container.go - централизованное связывание зависимостей
    - adapter/tool/ - адаптеры browser tools использующие порты
    - cmd/agent-v2/ - новая точка входа с Clean Architecture
    
    Старый код в cmd/agent/ и internal/agents/ сохранён для обратной совместимости.

commit 2685d3bc0dfb9e3003b8019c0cab9ac3aac8d49f
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 13:49:09 2025 +0500

    Добавлен ExecuteTaskUseCase и LoggerAdapter
    
    - application/usecase/execute_task.go - основная бизнес-логика агента
    - application/service/tool_registry.go - реестр инструментов
    - infrastructure/logger/adapter.go - реализация LoggerPort
    
    Use case содержит логику ReAct агента, извлечённую из ReactAgent.

commit 62978dfd0e73f1ed1ce4b3eaf9b5170bf9e58d9e
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 13:48:04 2025 +0500

    Добавлен OpenRouterAdapter реализующий LLMPort
    
    - infrastructure/llm/openrouter/adapter.go реализует output.LLMPort
    - Поддержка обычного и streaming режимов
    - Конвертация между доменными entity и OpenAI типами

commit 6d59ee31b0e515c0486801aced825fa812dd545f
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 13:47:15 2025 +0500

    Добавлен BrowserAdapter реализующий BrowserPort
    
    - infrastructure/browser/rod/adapter.go реализует output.BrowserPort
    - Содержит все browser операции: Navigate, Click, Fill, Scroll, Screenshot и др.
    - Полностью изолирован от доменного слоя через интерфейс

commit 35a287a6b8299f2a10582f5f2c742b09ab8ae08f
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 13:46:05 2025 +0500

    Добавлены порты и доменные entity для Clean Architecture
    
    - domain/entity: Task, Message, ToolCall, PageContent, UIElement, Screenshot
    - application/port/output: BrowserPort, LLMPort, LoggerPort, ToolPort, ConfigPort
    
    Это фундамент для инверсии зависимостей между слоями.

commit 8038b5b2f49cca090eceae5c8e453c5fbd7425e2
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 13:35:25 2025 +0500

    Исправлен streaming tool calls и добавлен CLAUDE.md в gitignore
    
    - Исправлен парсинг streaming tool calls (мержинг chunks по индексу)
    - Добавлена проверка существования инструмента в toolMap
    - Исправлен ToolType на "function" для OpenAI API
    - CLAUDE.md добавлен в .gitignore

commit 7e1ff8f5e8658bd3a5c73283974c73226ebc73b1
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sun Dec 7 13:29:23 2025 +0500

    Рефакторинг агента: переход на go-openai SDK
    
    - Заменён openai-go на sashabaranov/go-openai
    - Создан ReactAgent с поддержкой streaming API
    - Добавлен toolMap как map[string]Tool для поиска по имени
    - Исправлена конфигурация OpenRouter (DefaultConfig + BaseURL)
    - Добавлены методы Execute и ExecuteWithStreaming
    - Создан OpenAiAdapter для конвертации Tool в openai.Tool
    - Добавлен CLAUDE.md с документацией проекта

commit 573088bc8c7817ebe9aae10789ac521dacb23cb8
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Thu Dec 4 16:03:30 2025 +0500

    Обновил инструменты

commit ebbca09c6f579e44cbea32b3a5f0ebee600488ee
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Thu Dec 4 12:55:47 2025 +0500

    Перенес на lancgaingo

commit 337f9663661172a19f3aa2885865e7eb8e0b5482
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Fri Nov 28 21:42:34 2025 +0500

    Рефакторинг BrowserAgent в архитектуру на основе Supervisor
    
    Удалена старая реализация BrowserAgent с пошаговым выполнением инструментов.
    
    Введён AgentRunner, который делегирует выполнение задач Supervisor.
    
    Обновлён main.go для инициализации EnvService, BrowserCore, Supervisor и TaskRunner.
    
    Упрощён интерфейс AI-клиента для явной передачи инструментов.
    
    Удалены устаревшие провайдеры AI и определения инструментов из interfaces/ai.
    
    Упрощена инициализация клиента OpenRouter и сигнатура метода Call в соответствии с новой архитектурой.
    
    Устранена ручная обработка скриншотов и взаимодействия с пользователем на уровне usecase.
    
    В целом, логика выполнения централизована в Supervisor, что улучшает сопровождение и тестируемость.

commit f444fafa70d600b88731e1b1a283a894c57386f6
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Fri Nov 28 14:07:14 2025 +0500

    добавил timeout для получение элементов

commit d7e0f1e91b76242d417b2da4207f8f512d8ddbfa
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Fri Nov 28 13:59:18 2025 +0500

    Добавлена поддержка выбора модели OpenRouter через переменные окружения.
    Расширен конструктор BrowserAgent и клиент OpenRouter новым параметром modelName.
    Переработан основной цикл агента: введена структура StepResult, обновлена логика формирования сообщений и обработки инструментов.
    Улучшена обработка скриншотов, очистка предыдущих данных и добавлен инструмент browser_screenshot.
    Расширен набор инструментов: browser_press_enter, уточнены browser_extract, browser_scroll, browser_click, browser_fill.
    Добавлен механизм подтверждения действий пользователя.
    Удалён вывод дерева доступности из stdout.
    Упрощены настройки Rod-лаунчера и мелкие правки в обёртке rodWrapper.

commit e8d0e7f390fde2f8e4880df1542b421f41fc140e
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Fri Nov 28 11:57:55 2025 +0500

    переработка browser-agent, добавление screenshot-пайплайна, перенос rod → rodWrapper
    
    Основные изменения:
    Перенесён модуль rod в новый пакет rodWrapper; обновлены импорты и использование очистки HTML.
    Внедрён расширенный механизм создания скриншотов: повторное сжатие JPEG, ресайз, уменьшение веса, корректное обновление message-контекста.
    Добавлен новый метод getBase64Image, упорядочена логика screenshot-инструмента, заменена работа с image_url.
    Добавлено обновление состояний сообщений и очистка старых скриншотов.
    Доработана обработка инструментов: переименования (navigate→browser_navigate, click→browser_click, и т.д.), расширенная логика scroll и extract.
    Поддержка многоэлементного клика, безопасный режим с подтверждениями (unsafe).
    Обновлён механизм логирования сообщений (обрезка длинных JSON, корректная фиксация шагов).
    Добавлены новые зависимости: imaging, gson (как direct), golang.org/x/image.
    Обновлена инициализация клиента OpenRouter — теперь принимает logger.
    Добавлена очистка состояний при навигации (markSelectorsAsStale).
    Введён упрощённый второй системный message, содержащий текущий URL вместо HTML.
    В browser.go включён Trace и SlowMotion для наблюдаемой работы браузера.
    Добавлен новый модуль getAccessibilityTree.go.

commit c655a5be98af28c18d25647a848c8f69dcc88820
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Thu Nov 27 16:09:25 2025 +0500

    refactor: полностью переработан BrowserAgent и инструменты
    
    - Удалена старая обёртка rod и HTML очистка (browser/rod).
    - Переписан BrowserAgent с поддержкой логирования в файл и base64-скриншотов.
    - Добавлена обработка дерева доступности и скриншотов для контекста.
    - Инструменты (click, fill, scroll, extract, navigate, ask_user) переписаны с улучшенной обработкой ошибок, таймаутов и множественных элементов.
    - go.mod обновлён: добавлены зависимости disintegration/imaging и ysmood/gson.
    - .gitignore дополнен папкой logs и шаблоном *__debug*.
    - Улучшено логирование запросов к AI и инструментов, сохранение контекста шагов.

commit f2349407a64797c7aee6a7d59c5918b344fdaf33
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Wed Nov 26 15:12:31 2025 +0500

    feat: enhance browser agent with advanced capabilities
    
    - Add image and screenshot support to AI context
    - Implement extended user interaction tools
    - Increase timeouts from 5 to 25 minutes
    - Add complex message structure with multimedia support
    - Enhance tool system with confirmation and capture features

commit 97e0538f66f2623064c1056ed01be8c22285e8f2
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Wed Nov 26 11:14:30 2025 +0500

    Отправка изображений

commit f2bce4cdcf99d10aa83ae6b68971345c0dfa9ee9
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Tue Nov 25 13:38:01 2025 +0500

    Сделал ввод, а также ожидание

commit 04d8a3a4a5c21fc6f31751cc78259fc0bb9b0e0a
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Tue Nov 25 12:50:37 2025 +0500

    Запущена первая работа

commit 45803b875c20f29be65ff9d4b079e96462af232b
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Tue Nov 25 12:49:50 2025 +0500

    gitignore

commit 9042f6c783521ac3932ca8e4ffb52998b70a9807
Author: Tarakan <volodin.mixa2015@yandex.ru>
Date:   Sat Nov 22 18:34:11 2025 +0500

    initial commit
